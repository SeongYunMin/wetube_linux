{6_9_CRUDintroduction}
ì¸ì œ mongodb ì—°ê²°ëìœ¼ë¯€ë¡œ ìš°ë¦° ë°ì´í„°ë¥¼ ì§„ì§œ databaseì— ë§Œë“¤ ì¤€ë¹„ê°€ ëë‹¤!
ì ìš°ë¦¬ ëª©í‘œëŠ” ì§€ê¸ˆê¹Œì§€ fake databaseë¡œ ë§Œë“  í˜ì´ì§€ë¥¼ ì „ë¶€ real databaseë¡œ ë°”ê¾¸ëŠ” ê²ƒì´ë‹¤
ì´ëŸ° í–‰ìœ„ë“¤ì„ ìš°ë¦° ì¼ë°˜ì ìœ¼ë¡œ CRUDë¼ê³  í•œë‹¤ Create Read Update Delete ì´ ê³¼ì •ì„ ëª¨ë‘
êµ¬í˜„í•´ë³¼ ê²ƒì´ë‹¤ ì´ CRUD ìˆœì„œëŒ€ë¡œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ê°ˆ ê²ƒì´ë‹¤ ì¸ì œë¶€í„° ì¡°ê¸ˆ ì–´ë ¤ì›Œì§ˆ ê²ƒì´ë‹¤
ìš°ë¦° mongooseë‘ ì¹œí•´ì§ˆ í•„ìš”ê°€ ìˆë‹¤ ìš°ë¦° ìš°ì„  userë¥¼ ë‹¤ë£¨ëŠ” ë²•ë¶€í„° ë°°ìš¸ê²ƒì´ë‹¤
ì ì‹œì‘í•˜ê¸° ì „ì— ìš°ì„  src/modelsë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ê² ë‹¤ ê·¸ë¦¬ê³  ê·¸ ì•ˆì— Video.js íŒŒì¼ ë§Œë“¤ì—ˆë‹¤
modelì´ ë­˜ê¹Œ? ê¸°ì–µí•˜ê² ì§€ë§Œ mongooseëŠ” ìš°ë¦¬ì„œë²„ê°€ mongoDB ì™€ ëŒ€í™”í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ ì´ ëŒ€í™”ë¥¼ ìœ„í•´
mongooseë¥¼ ì¡°ê¸ˆ ë„ì™€ì¤„ í•„ìš”ê°€ ìˆë‹¤ mongooseì—ê²Œ ìš°ë¦¬ì˜ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ ì•Œë ¤ì¤„
í•„ìš”ê°€ ìˆë‹¤ ì˜ˆë¥¼ë“¤ì–´ ë¹„ë””ì˜¤ì— ì–´ë–¤ íƒ€ì´í‹€ì´ ìˆê³ , ë²„íŠ¼ì€ ì–´ë–»ê²Œ ìƒê²¼ê³  ì´ëŸ°ê±¸ ì•Œë ¤ì¤˜ì•¼ í•œë‹¤
ì´ë ‡ê²Œ ì•Œë ¤ì£¼ê³  ë‚˜ë©´ mongooseëŠ” ì´ ë°ì´í„°ë¥¼ CRUD í•˜ëŠ” ê²ƒì„ ë„ì™€ì¤„ ê²ƒì´ë‹¤
ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²ƒì€ databaseê°€ CRUD í• ë–„ ìš°ë¦´ ë„ì™€ì£¼ëŠ” ê²ƒì´ë‹¤ ì´ë ‡ê²Œ í•˜ê¸° ìœ„í•´ì„  databaseì—ê²Œ
ìš°ë¦¬ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ ë§í•´ì¤˜ì•¼í•œë‹¤ databaseëŠ” ì˜¤ë¸Œì íŠ¸ ë‚´ì˜ ì•„ì´í…œë“¤ì˜ ê°’ë“¤ ìì²´ë¥¼ ì•Œ
í•„ìš”ëŠ” ì—†ë‹¤ databaseê°€ ì•Œì•„ì•¼í•˜ëŠ” ê²ƒì€ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ê°€ í•˜ëŠ” ê²ƒì´ë‹¤
ê¸ê¹Œ ì˜¤ë¸Œì íŠ¸ì˜ í‚¤ë“¤ì„ ì•Œì•„ì•¼í•œë‹¤ëŠ” ê²ƒì´ë‹¤ ì˜ˆë¥¼ë“¤ì–´ VideoëŠ” ë­˜ ê°€ì§€ê³  ìˆì„ê¹Œ?
creatorë¥¼ ê°–ê³  ìˆëŠ”ê°€? ëŒ“ê¸€ì„ ê°–ê³  ìˆëŠ”ê°€? ê·¸ ëŒ“ê¸€ì€ ìˆ«ìì•¼ ë¬¸ìì—´ì´ì•¼? íƒ€ì´í‹€ì€ ê°–ê³  ìˆì–´?
ì´ëŸ° ê²ƒë“¤ì„ ì•Œë ¤ì¤˜ì•¼ í•´ì„œ ìš°ë¦° modelì„ í•„ìš”ë¡œ í•œë‹¤
í›„ ì„¤ëª…ì´ ì–´ë ¤ì›Œ ì˜ˆë¡œ ì„¤ëª…í•˜ìë©´ ìš°ë¦¬ Video modelì—ëŠ” titleì´ ìˆê³  ê·¸ê±´ ë¬¸ìì—´ë¡œ êµ¬ì„±ë¼ìˆì–´, ë¼ëŠ”
ì‹ìœ¼ë¡œ ë§í•´ì£¼ëŠ” ê²ƒì´ë‹¤ ê·¸ë ‡ê²Œ í•˜ë©´ ìš°ë¦¬ê°€ ë¹„ë””ì˜¤ë¥¼ ìƒì„±í• ë•Œë§ˆë‹¤ databaseëŠ” ìš°ë¦¬ê°€ titleë¡œ
ë¬¸ìì—´ íƒ€ì…ì¸ ê°’ì„ ë³´ë‚¼ ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•˜ê²Œ ë  ê²ƒì´ë‹¤ ì´ë ‡ê²Œ databaseì— ì„¤ëª…ì„ í•´ì¤˜ì•¼ í•œë‹¤
Video.jsë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì€ ë‹¤ìŒì¥ì—ì„œ í•˜ê² ë‹¤
{6_10_VideoModel}
VideoModelì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ Video.jsëŠ” mongoose ë¥¼ importí•´ì™€ì•¼ í•œë‹¤ ê·¸ë¦¬ê³  ì¸ì œ ë³¸ê²©ì ìœ¼ë¡œ
modelì„ ë§Œë“¤ê¸° ì „ì— ìš°ë¦° modelì˜ í˜•íƒœë¥¼ ì •ì˜í•´ì¤„ í•„ìš”ê°€ ìˆë‹¤ ê·¸ í˜•íƒœë¥¼ ìš°ë¦° ì¼ë°˜ì ìœ¼ë¡œ
schema ë¼ê³  í•œë‹¤ const videoSchema = new mongoose.Schema({}); ì´ë ‡ê²Œ ìŠ¤í‚¤ë§ˆ ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³ 
ê·¸ ì•ˆì— ë¹„ë””ì˜¤ì˜ í˜•ì‹ì„ ì‘ì„±í•  ê²ƒì´ë‹¤ ê·¸ ì•ˆì— ë¹„ë””ì˜¤ ë‚´ì˜ ë°ì´í„°ê°€ ê°€ì§„ í˜•ì‹ì„ String, Date ë“±
ìœ¼ë¡œ ì •ì˜í•´ì£¼ê³  ìˆë‹¤ ì´ë ‡ê²Œ ë¹„ë””ì˜¤ ë‚´ì˜ ë°ì´í„°ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì§€ ì•Šê³  í˜•ì‹ë§Œ ì…ë ¥í•˜ëŠ” ì´ìœ ëŠ”
ë¹„ë””ì˜¤ì˜ ë°ì´í„°ëŠ” userê°€ ì§ì ‘ ì±„ìš¸ ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤ ìš°ë¦¬ê°€ wetube ì˜ìƒ ë°ì´í„°ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ì„œ
ì œê³µí•˜ì§„ ì•Šì§€ ì•Šê² ëŠ”ê°€? ì•„ ê·¸ë¦¬ê³  title: String ì´ë‘ title: {type: String} ì€ ê°™ì€ ê²ƒì´ë‹¤
ë‹¨ì¶•í•´ì„œ ì¼ì„ ë¿ì´ë‹¤ ì ì¸ì œ ì¢€ ë” ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë°ì´í„°(views, rating ë“±)ì€ metaë¼ëŠ”
í•­ëª©ì— ë‹¤ ë„£ì„ ê²ƒì´ë‹¤ metaëŠ” ì—¬ë¶„ì´ë¼ëŠ” ëœ»ì´ë‹¤ meta ì—˜ë ˆë¨¼íŠ¸ ì•ˆì— ì˜¤ë¸Œì íŠ¸ í•˜ë‚˜ ë§Œë“¤ê³ 
ê·¸ ì•ˆì— views, rating ë“±ì„ ë„£ìœ¼ë©´ ëœë‹¤ ì ì¸ì œ modelì„ ë§Œë“¤ ê²ƒì´ë‹¤ Video ì´ë¼ëŠ” ë³€ìˆ˜ ì„ ì–¸í•˜ê³ 
mongoose.model("ëª¨ë¸ ì´ë¦„", ìŠ¤í‚¤ë§ˆ); ì´ë ‡ê²Œ ë„£ì–´ì£¼ë©´ ëœë‹¤ ê·¸ë¦¬ê³  ë§Œë“  Videoë¥¼
export default í•˜ë©´ ëœë‹¤ (ë³´í†µ ëª¨ë¸ ì´ë¦„ì€ ëŒ€ë¬¸ìë¡œ ì‹œì‘í•œë‹¤) 
ì´ ëª¨ë¸ì„ ìš°ë¦¬(server.js)ê°€ ì“°ê¸° ìœ„í•´ì„œ ìš°ë¦¬(server.js)ê°€ importë¥¼ í•´ì•¼í•œë‹¤
ì ì¸ì œ ìš°ë¦¬ ëª¨ë¸ì„ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¨ê³„ê¹Œì§€ ë”± í•œë‹¨ê³„ ë‚¨ì•˜ë‹¤ ê·¸ê±´ ë‹¤ìŒì¥ì—ì„œ í•˜ê² ë‹¤
ì •ë¦¬í•˜ìë©´ ë¨¼ì € ìš°ë¦° ë°ì´í„°ì˜ í˜•ì‹ì„ ìŠ¤í‚¤ë§ˆë¥¼ ì‚¬ìš©í•´ì„œ ì •ì˜í•´ì£¼ê³  ê·¸ ë‹¤ìŒì— modelì„ ë§Œë“œëŠ”
ê²ƒì´ë‹¤ modelì€ ë‘ê°œì˜ ì¸ìë¥¼ ê°€ì§€ëŠ”ë° í•˜ë‚˜ëŠ” modelì˜ ì´ë¦„ì´ê³  í•˜ë‚˜ëŠ” schemaì´ë‹¤ ê·¸ë¦¬ê³ 
ë‚˜ì„œ í•´ë‹¹ modelì„ defaultë¡œ exportí•´ì£¼ë©´ ëœë‹¤ ì´ë ‡ê²Œ í•œ í›„ ìš°ë¦¬ì˜ modelì„ ëª¨ë‘ê°€ ì•Œ ìˆ˜ ìˆê²Œ
í•˜ê¸° ìœ„í•´ server.jsì— db.jsë¥¼ importí•´ì„œ ì—°ê²°í•˜ê³  ê·¸ ì—°ê²°ì´ ì„±ê³µì ì¼ë•Œ Videoë¥¼ importí•´ì˜¤ëŠ”
ê²ƒì´ë‹¤ ì¦‰ db.jsì—ì„œí•œ mongoose.connectionì˜ ì„±ê³µìœ¼ë¡œ ì¸í•´ dbëŠ” video modelì„ ì¸ì‹í•˜ê²Œ ë˜ì—ˆë‹¤
ì´ê²Œ ì œì¼ ì¤‘ìš”í•œ ê°œë…ì´ë‹¤
{models/Video.js}
import mongoose from "mongoose";

const videoSchema = new mongoose.Schema({
  title: String,
  description: String,
  createdAt: Date,
  hashtags: [{ type: String }],
  meta: {
    views: Number,
    rating: Number,
  },
});

const Video = mongoose.model("Video", videoSchema);
export default Video;

{server.js ì¤‘ import ë¶€ë¶„}
import "./db";
import Video from "./models/Video";
import express from "express";
import morgan from "morgan";
import global from "./routers/globalRouter";
import user from "./routers/userRouter";
import video from "./routers/videoRouter";

{6_11_OurFirstQuery}
ì ì´ë ‡ê²Œ ëª¨ë¸ì— ëŒ€í•´ì„œ ì•Œì•„ë´¤ë‹¤ ì´í›„ì—ëŠ” ë” ë§ì€ modelì„ ë§Œë“¤ì–´ì„œ import í•  ê²ƒì´ë‹¤ ë”°ë¼ì„œ
server.jsì˜ ìƒë‹¨ì— db modelì„ importí•˜ëŠ” ë§ì€ ì½”ë“œê°€ ìƒê¸¸í…ë° ì‚¬ì‹¤ databaseëŠ” server.jsì—
ì˜í–¥ì„ ê±°ì˜ ë¼ì¹˜ì§€ ì•ŠëŠ”ë‹¤ ë”°ë¼ì„œ ì´ dbì™€ modelì˜ importëŠ” ë”°ë¡œ init.jsë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ
ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•˜ì initì€ initalize(ì´ˆê¸°í™”)ì˜ ì•½ìì´ë‹¤ ì¦‰ ì´ init.jsëŠ” ì´ˆê¸° ì„¤ì •ì— ê´€í•œ
ì½”ë“œë“¤ì„ í’ˆê³  ìˆëŠ” íŒŒì¼ì´ë‹¤ ì´ íŒŒì¼ì´ databaseì™€ Videoë¥¼ import í•´ì£¼ê³  ìš°ë¦¬ì˜ applicationë„
ì‘ë™ì‹œí‚¬ ê²ƒì´ë‹¤ ë”°ë¼ì„œ app.listen ê´€ë ¨ ì½”ë“œ ë˜í•œ ì´ íŒŒì¼ë¡œ ì˜®ê²¨ì£¼ì ê·¸ë¦¬ê³  PORT ë³€ìˆ˜ ì„ ì–¸í•œ
ê²ƒë„ ë‹¹ì—°íˆ ì˜®ê²¨ì£¼ì. ì ê·¸ë¦¬ê³  init.js ì—ì„œë„ appì„ ì“¸ ìˆ˜ ìˆë„ë¡ export default appì„ í•´ì„œ
ì´ app ë³€ìˆ˜ë¥¼ init.jsë¡œ ë³´ë‚´ì£¼ì
ì´ë ‡ê²Œ server.jsë¥¼ ê´€ë ¨ëœ ê²ƒë“¤ì— ë”°ë¼ ë¶„í•´í•œ ì´ìœ ëŠ” server.jsëŠ” express ëœ ê²ƒë“¤ê³¼ serverì˜
configurationì— ê´€ë ¨ëœ ì½”ë“œë§Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë§Œë“  íŒŒì¼ì´ê¸° ë•Œë¬¸ì´ë‹¤ ì ì´ë ‡ê²Œ ë¶„ë¦¬í•œ í›„
npm run dev í•˜ë©´ nodemonì€ ì´ìƒí•˜ê²Œë„ ì•„ë¬´ ë°˜ì‘ì´ ì—†ë‹¤ ê·¸ ì´ìœ ëŠ” ì§€ê¸ˆ ìš°ë¦¬ê°€ app.listenì„
í•˜ê³  ìˆëŠ” íŒŒì¼ì€ init.jsì¸ë° nodemonì€ server.jsë¥¼ ê´€ì°°í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤
ë”°ë¼ì„œ package.jsonì˜ script ì—˜ë ˆë¨¼íŠ¸ì— ìˆëŠ” nodemonì˜ ê´€ì°° ê²½ë¡œë¥¼ init.jsë¡œ ë°”ê¿”ì£¼ì
ì ì¸ì œ ë¶„ë¦¬ê°€ ëë‚¬ë‹¤. server.jsëŠ” sever ì„¤ì • ê´€ë ¨ ê²ƒë“¤ì„ ë‹´ë‹¹í•˜ê³  í•„ìš”í•œ ëª¨ë“  ê²ƒì„ importí•˜ëŠ”
ê²ƒì€ init.jsê°€ ë‹´ë‹¹í•  ê²ƒì´ë‹¤
ì ì¸ì œ database ë‚´ Videoì— ì ‘ê·¼í•˜ëŠ” ë²•ì— ëŒ€í•´ ë°°ì›Œë³´ì ì¼ë‹¨ fake databaseë¥¼ ì§€ì›Œì£¼ì
ê·¸ë¦¬ê³  ê·¸ fake database ì“°ì¸ ì½”ë“œë“¤ ë‹¤ ì§€ì›Œì£¼ì trending ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì´ë¦„ì„ homeìœ¼ë¡œ ë°”ê¿”ì£¼ê² ë‹¤  
ì ì¸ì œ ì§„ì§œ databaseë¥¼ video ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ê°€ì ¸ì™€ë³´ì ìš°ì„  Video modelì„ import í•´ì˜¤ì
ê·¸ëŸ¼ ì¸ì œ ì´ íŒŒì¼ì˜ databaseì™€ ì´ê±¸ ì—°ê²°í•´ì•¼í•˜ëŠ”ë° ê·¸ê±´ ì–´ë–»ê²Œ í• ê¹Œ ê·¸ê±´ mongoose docsë¥¼
ë³´ë©´ ì•Œ ìˆ˜ ìˆë‹¤ ì ë§ì€ ëª½êµ¬ìŠ¤ ë©”ì„œë“œ ì¤‘ findë¥¼ ì“¸ ê²ƒì¸ë° ì´ê±¸ ì´í•´í•˜ë ¤ë©´ callback, promise
ë“± es6 ë³µìŠµì´ í•„ìš”í•˜ë‹¤ ë¹„ë™ê¸°ì— ëŒ€í•´ì„œë„ ë°°ì›Œì•¼ í•œë‹¤ callbackì€ ì–´ë–¤ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ê³ ë‚œ 
ë‹¤ìŒì— í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤
handler ë“¤ì´ ëŒ€í‘œì ì¸ callback í•¨ìˆ˜ì´ë‹¤ ì–˜ë„¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ì• ë“¤
ì´ë‹¤ ê·¸ë¦¬ê³  promiseëŠ” ë°°ì›Œì„œ ì•Œê² ì§€ë§Œ ì•ì— ì¼ì´ ëë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ê±¸ ì˜ë¯¸í•œë‹¤(ë³µìŠµìš”ë§)
Video.find() ì˜ ê²½ìš°ì—ë„ Videoë¼ëŠ” ì™¸ë¶€ì˜ íŒŒì¼ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ë¯€ë¡œ ë¡œë”© ì‹œê°„ì´ ê±¸ë¦¬ê²Œ ëœë‹¤
ì´ ë¡œë”©ì´ ë‹¤ ëë‚˜ê³  ë‹¤ìŒ ì½”ë“œê°€ ì‘ë™í•´ì•¼ ì—ëŸ¬ ì—†ì´ ì‘ë™ ê°€ëŠ¥í•˜ë‹¤
ì ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì„ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ callback, promise ë‘ê°œ ì¸ë° promise ë°°ìš°ê¸° ì „ callback
ë¶€í„° ì‘ë™ ë°©ì‹ì„ ì´í•´í•´ë³´ë„ë¡ í•˜ì
Video.find(ì°¾ëŠ”ê±°,ì½œë°±í•¨ìˆ˜); ì´ë ‡ê²Œ ë“¤ì–´ê°€ê²Œ ë˜ëŠ”ë° ì²«ë²ˆì¨° ì¸ìì—ëŠ” ìš°ë¦° ëª¨ë“  í˜•ì‹ì˜ ë¹„ë””ì˜¤ë¥¼
ì°¾ì„ ê²ƒì´ë¯€ë¡œ ê·¸ëƒ¥ {} ë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤ ì—¬ê¸°ì„œ {} ë¥¼ search terms ë¼ê³  í•˜ëŠ”ë° ì´ê²Œ ë¹„ì–´ìˆìœ¼ë©´
ëª¨ë“  í˜•ì‹ì„ ë‹¤ ì°¾ëŠ”ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤ ê·¸ë¦¬ê³  ë’¤ì— ì˜¤ëŠ” ì½œë°±í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 2ê°œì˜ ì¸ìë¥¼ í•„ìš”ë¡œí•œë‹¤
(err, docs) ì´ë‹¤ ë”°ë¼ì„œ Video.find({}, (err, videos) => {}); ì´ë ‡ê²Œ ì½”ë“œ ì§œë©´ ëª¨ë“  í˜•ì‹ì˜
videoë¥¼ ì°¾ì€ í›„ ë’¤ì˜ ì½œë°±í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤ ì´ ì½œë°±í•¨ìˆ˜ëŠ” ë‹¤ìŒì¥ì—ì„œ ì±„ìš°ë„ë¡ í•˜ê² ë‹¤
{init.js}
import "./db";
import Video from "./models/Video";
import app from "./server";

const PORT = 5000;

const handleListening = () =>
  console.log(`âœ… Server listening on port http://localhost:${PORT} ğŸƒ`);

app.listen(PORT, handleListening);

{server.js}
import express from "express";
import morgan from "morgan";
import global from "./routers/globalRouter";
import user from "./routers/userRouter";
import video from "./routers/videoRouter";

const app = express();
const logger = morgan("dev");

app.set("view engine", "pug");
app.set("views", process.cwd() + "/src/views");
app.use(logger);
app.use(express.urlencoded({ extended: true }));
app.use("/video", video);
app.use("/user", user);
app.use("/", global);

export default app;

{videoController ì¤‘ ìƒë‹¨ë¶€ë¶„ê³¼ home ì»¨íŠ¸ë¡¤ëŸ¬}
import Video from "../models/Video";

export const Home = (req, res) => {
  Video.find({}, (err, videos) => {});
  res.render("home", { pageTitle: "Home" });
};